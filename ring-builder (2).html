<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ring Builder | Gabriella Amoura</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600&family=Nunito+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    :root {
      --bg: #FAF8F5;
      --bg-panel: #FFFFFF;
      --bg-card: #F5F2ED;
      --bg-card-hover: #EDE9E3;
      --text: #2C2C2C;
      --text-dim: #6B6B6B;
      --gold: #C9A962;
      --gold-bright: #D4B976;
      --gold-dim: #A88F4F;
      --gold-light: rgba(201, 169, 98, 0.15);
      --radius: 16px;
    }
    
    @keyframes slideUp { from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)} }
    
    html, body { height: 100%; }
    
    body {
      font-family: 'Nunito Sans', sans-serif;
      background: var(--bg);
      color: var(--text);
    }
    
    #app {
      min-height: 100%;
      display: flex;
      flex-direction: column;
    }
    
    /* Header */
    .header {
      padding: 16px 32px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid rgba(201,169,98,0.15);
      background: var(--bg-panel);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    .logo {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.4rem;
      font-weight: 400;
      letter-spacing: 3px;
      text-transform: uppercase;
    }
    
    .logo span { color: var(--gold); }
    
    .progress { display: flex; align-items: center; gap: 8px; }
    .progress-track { display: flex; gap: 4px; }
    
    .progress-segment {
      width: 36px;
      height: 4px;
      background: rgba(201,169,98,0.2);
      border-radius: 2px;
      transition: all 0.4s ease;
    }
    
    .progress-segment.active { background: var(--gold); }
    .progress-segment.done { background: var(--gold-dim); }
    
    .progress-text {
      font-size: 0.7rem;
      color: var(--text-dim);
      text-transform: uppercase;
      letter-spacing: 1.5px;
      margin-left: 12px;
    }
    
    /* Main Layout */
    .main {
      flex: 1;
      display: grid;
      grid-template-columns: 1fr 420px;
    }
    
    /* Preview Area */
    .preview-area {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 40px;
      background: linear-gradient(180deg, rgba(201,169,98,0.03) 0%, rgba(245,242,237,0.5) 100%);
    }
    
    .ring-stage {
      position: relative;
      width: 450px;
      height: 450px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: grab;
      user-select: none;
    }
    
    .ring-stage:active { cursor: grabbing; }
    
    .ring-stage video {
      max-width: 95%;
      max-height: 95%;
      object-fit: contain;
      pointer-events: none;
      border-radius: 8px;
    }
    
    .ring-placeholder {
      width: 200px;
      height: 200px;
      border: 2px dashed rgba(201,169,98,0.4);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-dim);
      font-size: 0.9rem;
      text-align: center;
      padding: 20px;
    }
    
    .drag-hint {
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 0.75rem;
      color: var(--text-dim);
      background: rgba(255,255,255,0.95);
      padding: 8px 16px;
      border-radius: 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .preview-info {
      margin-top: 24px;
      text-align: center;
    }
    
    .preview-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.6rem;
      font-weight: 500;
      margin-bottom: 12px;
    }
    
    .preview-tags {
      display: flex;
      gap: 10px;
      justify-content: center;
      flex-wrap: wrap;
    }
    
    .preview-tag {
      font-size: 0.75rem;
      color: var(--gold-dim);
      background: var(--bg-panel);
      padding: 6px 14px;
      border-radius: 20px;
      border: 1px solid rgba(201,169,98,0.2);
    }
    
    /* Config Panel */
    .config-panel {
      background: var(--bg-panel);
      border-left: 1px solid rgba(201,169,98,0.15);
      padding: 32px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
    }
    
    .step-intro {
      margin-bottom: 28px;
      animation: slideUp 0.4s ease;
    }
    
    .step-badge {
      display: inline-block;
      font-size: 0.7rem;
      color: var(--gold);
      text-transform: uppercase;
      letter-spacing: 2px;
      margin-bottom: 10px;
    }
    
    .step-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.8rem;
      font-weight: 500;
      margin-bottom: 8px;
    }
    
    .step-desc {
      font-size: 0.9rem;
      color: var(--text-dim);
      line-height: 1.6;
    }
    
    .section-label {
      font-size: 0.7rem;
      color: var(--text-dim);
      text-transform: uppercase;
      letter-spacing: 1.5px;
      margin-bottom: 14px;
      margin-top: 24px;
    }
    
    .section-label:first-of-type { margin-top: 0; }
    
    /* Style Cards */
    .style-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-bottom: 20px;
    }
    
    .style-card {
      background: var(--bg-card);
      border: 2px solid transparent;
      border-radius: var(--radius);
      padding: 16px 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
      position: relative;
    }
    
    .style-card:hover {
      background: var(--bg-card-hover);
      transform: translateY(-2px);
    }
    
    .style-card.selected {
      border-color: var(--gold);
      background: var(--bg-panel);
    }
    
    .style-card.selected::after {
      content: '✓';
      position: absolute;
      top: 8px;
      right: 8px;
      width: 20px;
      height: 20px;
      background: var(--gold);
      color: white;
      border-radius: 50%;
      font-size: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .style-name { font-size: 0.85rem; font-weight: 600; }
    .style-detail { font-size: 0.7rem; color: var(--text-dim); margin-top: 4px; }
    
    /* Metal Swatches */
    .metal-row {
      display: flex;
      gap: 16px;
      margin-bottom: 20px;
    }
    
    .metal-swatch {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      transition: transform 0.2s ease;
    }
    
    .metal-swatch:hover { transform: scale(1.05); }
    
    .swatch-circle {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      border: 3px solid transparent;
      transition: all 0.25s ease;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .swatch-circle.yellow { background: linear-gradient(135deg, #f7e18c 0%, #d4af37 50%, #aa8c2c 100%); }
    .swatch-circle.white { background: linear-gradient(135deg, #ffffff 0%, #e8e8e8 50%, #c8c8c8 100%); }
    .swatch-circle.rose { background: linear-gradient(135deg, #f5c6c6 0%, #e5a9a9 50%, #d49292 100%); }
    
    .metal-swatch.selected .swatch-circle {
      border-color: var(--gold);
      box-shadow: 0 0 0 3px var(--gold-light), 0 4px 15px rgba(201,169,98,0.3);
    }
    
    .swatch-label { font-size: 0.7rem; color: var(--text-dim); }
    .metal-swatch.selected .swatch-label { color: var(--gold); font-weight: 600; }
    
    /* Diamond Grid */
    .diamond-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px;
      margin-bottom: 18px;
    }
    
    .diamond-item {
      aspect-ratio: 1;
      background: var(--bg-card);
      border: 2px solid transparent;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.25s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 8px;
      position: relative;
    }
    
    .diamond-item:hover:not(.disabled) {
      background: var(--bg-card-hover);
      transform: scale(1.05);
      border-color: rgba(201,169,98,0.3);
    }
    
    .diamond-item.selected {
      border-color: var(--gold);
      background: var(--bg-panel);
    }
    
    .diamond-item.disabled {
      opacity: 0.3;
      cursor: not-allowed;
    }
    
    .diamond-item.selected::after {
      content: '✓';
      position: absolute;
      top: 3px;
      right: 3px;
      width: 14px;
      height: 14px;
      background: var(--gold);
      color: white;
      border-radius: 50%;
      font-size: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .diamond-svg {
      width: 32px;
      height: 32px;
      margin-bottom: 4px;
      opacity: 0.7;
    }
    
    .diamond-item:hover:not(.disabled) .diamond-svg,
    .diamond-item.selected .diamond-svg { opacity: 1; }
    
    .diamond-label {
      font-size: 0.55rem;
      text-transform: uppercase;
      letter-spacing: 0.3px;
      color: var(--text-dim);
      font-weight: 500;
    }
    
    .diamond-item.selected .diamond-label { color: var(--gold); }
    
    /* Carat Slider */
    .carat-section { margin-bottom: 24px; }
    
    .carat-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 14px;
    }
    
    .carat-value {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.5rem;
      color: var(--gold);
      font-weight: 500;
    }
    
    .slider-container {
      position: relative;
      height: 8px;
      background: var(--bg-card);
      border-radius: 4px;
      margin-bottom: 10px;
    }
    
    .slider-fill {
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      background: linear-gradient(90deg, var(--gold-dim), var(--gold));
      border-radius: 4px;
    }
    
    .slider-container input[type="range"] {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      opacity: 0;
      cursor: pointer;
      margin: 0;
    }
    
    .slider-thumb {
      position: absolute;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 24px;
      height: 24px;
      background: var(--bg-panel);
      border: 3px solid var(--gold);
      border-radius: 50%;
      box-shadow: 0 2px 10px rgba(201,169,98,0.4);
      pointer-events: none;
    }
    
    .slider-labels {
      display: flex;
      justify-content: space-between;
      font-size: 0.7rem;
      color: var(--text-dim);
    }
    
    /* Navigation */
    .nav-row {
      margin-top: auto;
      display: flex;
      gap: 12px;
      padding-top: 24px;
    }
    
    .nav-btn {
      flex: 1;
      padding: 16px;
      border-radius: 12px;
      font-family: 'Nunito Sans', sans-serif;
      font-size: 0.85rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.25s ease;
      text-transform: uppercase;
      letter-spacing: 1.5px;
    }
    
    .nav-btn.back {
      background: var(--bg-card);
      border: 1px solid rgba(201,169,98,0.3);
      color: var(--text);
    }
    
    .nav-btn.back:hover { background: var(--bg-card-hover); border-color: var(--gold); }
    
    .nav-btn.next {
      background: var(--gold);
      border: none;
      color: white;
    }
    
    .nav-btn.next:hover:not(:disabled) {
      background: var(--gold-bright);
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(201,169,98,0.35);
    }
    
    .nav-btn:disabled { opacity: 0.4; cursor: not-allowed; }
    
    /* Summary */
    .summary-card {
      background: var(--bg-card);
      border-radius: var(--radius);
      overflow: hidden;
      margin-bottom: 24px;
      border: 1px solid rgba(201,169,98,0.15);
    }
    
    .summary-row {
      display: flex;
      justify-content: space-between;
      padding: 16px 20px;
      border-bottom: 1px solid rgba(201,169,98,0.1);
    }
    
    .summary-row:last-child { border-bottom: none; }
    .summary-label { color: var(--text-dim); font-size: 0.85rem; }
    .summary-value { font-weight: 600; font-size: 0.9rem; }
    
    /* Form */
    .lead-form { display: flex; flex-direction: column; gap: 16px; }
    .form-field { display: flex; flex-direction: column; gap: 6px; }
    
    .form-label {
      font-size: 0.75rem;
      color: var(--text-dim);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .form-input, .form-textarea {
      background: var(--bg-card);
      border: 1px solid rgba(201,169,98,0.2);
      border-radius: 10px;
      padding: 14px 16px;
      font-family: 'Nunito Sans', sans-serif;
      font-size: 0.95rem;
      color: var(--text);
    }
    
    .form-input:focus, .form-textarea:focus {
      outline: none;
      border-color: var(--gold);
      box-shadow: 0 0 0 3px var(--gold-light);
    }
    
    .form-textarea { resize: vertical; min-height: 80px; }
    
    .submit-btn {
      width: 100%;
      padding: 18px;
      background: var(--gold);
      border: none;
      border-radius: 12px;
      color: white;
      font-family: 'Nunito Sans', sans-serif;
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      margin-top: 8px;
    }
    
    .submit-btn:hover:not(:disabled) {
      background: var(--gold-bright);
      transform: translateY(-2px);
    }
    
    .submit-btn:disabled { opacity: 0.6; cursor: not-allowed; }
    
    .reset-btn {
      width: 100%;
      padding: 14px;
      background: transparent;
      border: 1px solid rgba(201,169,98,0.3);
      border-radius: 10px;
      color: var(--text-dim);
      font-family: 'Nunito Sans', sans-serif;
      font-size: 0.85rem;
      cursor: pointer;
    }
    
    .reset-btn:hover { border-color: var(--gold); color: var(--gold); }
    
    .success-box {
      text-align: center;
      padding: 32px 0;
      animation: slideUp 0.4s ease;
    }
    
    .success-icon {
      width: 64px;
      height: 64px;
      background: linear-gradient(135deg, var(--gold) 0%, var(--gold-dim) 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 20px;
      font-size: 28px;
      color: white;
    }
    
    .success-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.6rem;
      margin-bottom: 10px;
    }
    
    .success-text {
      font-size: 0.9rem;
      color: var(--text-dim);
      line-height: 1.6;
      margin-bottom: 24px;
    }
    
    /* Responsive */
    @media (max-width: 900px) {
      .main { grid-template-columns: 1fr; }
      .preview-area { min-height: 50vh; padding: 24px; }
      .ring-stage { width: 320px; height: 320px; }
      .config-panel { border-left: none; border-top: 1px solid rgba(201,169,98,0.15); }
      .header { padding: 12px 16px; }
      .logo { font-size: 1.1rem; }
      .diamond-grid { grid-template-columns: repeat(3, 1fr); }
    }
  </style>
</head>
<body>
  <div id="app"></div>
  
  <script>
    // ===================== RING DATA FROM OVERNIGHT MOUNTINGS =====================
    const RING_DATA = {
      "solitaire": {
        "round": {
          "sku": "85327",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/85327/85327.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/85327/85327.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/85327/85327.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/85327/85327.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/85327/85327.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/85327/85327.video.rose.mp4"
          }
        },
        "oval": {
          "sku": "51146-E",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51146-E/51146-E.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51146-E/51146-E.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51146-E/51146-E.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51146-E/51146-E.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51146-E/51146-E.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51146-E/51146-E.video.rose.mp4"
          }
        },
        "emerald": {
          "sku": "51143-E",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51143-E/51143-E.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51143-E/51143-E.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51143-E/51143-E.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51143-E/51143-E.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51143-E/51143-E.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51143-E/51143-E.video.rose.mp4"
          }
        },
        "pear": {
          "sku": "51268-E",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51268-E/51268-E.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51268-E/51268-E.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51268-E/51268-E.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51268-E/51268-E.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51268-E/51268-E.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51268-E/51268-E.video.rose.mp4"
          }
        },
        "marquise": {
          "sku": "85433",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/85433/85433.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/85433/85433.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/85433/85433.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/85433/85433.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/85433/85433.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/85433/85433.video.rose.mp4"
          }
        },
        "princess": {
          "sku": "85438",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/85438/85438.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/85438/85438.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/85438/85438.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/85438/85438.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/85438/85438.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/85438/85438.video.rose.mp4"
          }
        },
        "cushion": {
          "sku": "83878",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/83878/83878.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/83878/83878.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/83878/83878.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/83878/83878.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/83878/83878.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/83878/83878.video.rose.mp4"
          }
        }
      },
      "halo": {
        "round": {
          "sku": "50903-E",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50903-E/50903-E.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50903-E/50903-E.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50903-E/50903-E.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50903-E/50903-E.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50903-E/50903-E.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50903-E/50903-E.video.rose.mp4"
          }
        },
        "oval": {
          "sku": "50816-E",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50816-E/50816-E.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50816-E/50816-E.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50816-E/50816-E.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50816-E/50816-E.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50816-E/50816-E.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50816-E/50816-E.video.rose.mp4"
          }
        },
        "emerald": {
          "sku": "50920-E",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50920-E/50920-E.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50920-E/50920-E.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50920-E/50920-E.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50920-E/50920-E.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50920-E/50920-E.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50920-E/50920-E.video.rose.mp4"
          }
        },
        "pear": {
          "sku": "50950-E",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50950-E/50950-E.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50950-E/50950-E.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50950-E/50950-E.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50950-E/50950-E.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50950-E/50950-E.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50950-E/50950-E.video.rose.mp4"
          }
        },
        "marquise": {
          "sku": "50375-E",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50375-E/50375-E.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50375-E/50375-E.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50375-E/50375-E.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50375-E/50375-E.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50375-E/50375-E.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50375-E/50375-E.video.rose.mp4"
          }
        },
        "cushion": {
          "sku": "50778-E",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50778-E/50778-E.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50778-E/50778-E.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50778-E/50778-E.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50778-E/50778-E.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50778-E/50778-E.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50778-E/50778-E.video.rose.mp4"
          }
        }
      },
      "hidden-halo": {
        "round": {
          "sku": "50975-E",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50975-E/50975-E.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50975-E/50975-E.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50975-E/50975-E.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50975-E/50975-E.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50975-E/50975-E.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50975-E/50975-E.video.rose.mp4"
          }
        },
        "oval": {
          "sku": "51141-E",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51141-E/51141-E.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51141-E/51141-E.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51141-E/51141-E.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51141-E/51141-E.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51141-E/51141-E.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51141-E/51141-E.video.rose.mp4"
          }
        },
        "emerald": {
          "sku": "51330-E",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51330-E/51330-E.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51330-E/51330-E.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51330-E/51330-E.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51330-E/51330-E.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51330-E/51330-E.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51330-E/51330-E.video.rose.mp4"
          }
        },
        "pear": {
          "sku": "51336-E",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51336-E/51336-E.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51336-E/51336-E.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51336-E/51336-E.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51336-E/51336-E.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51336-E/51336-E.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51336-E/51336-E.video.rose.mp4"
          }
        },
        "marquise": {
          "sku": "51320-E",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51320-E/51320-E.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51320-E/51320-E.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51320-E/51320-E.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51320-E/51320-E.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51320-E/51320-E.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51320-E/51320-E.video.rose.mp4"
          }
        },
        "princess": {
          "sku": "51342-E",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51342-E/51342-E.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51342-E/51342-E.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51342-E/51342-E.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51342-E/51342-E.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51342-E/51342-E.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51342-E/51342-E.video.rose.mp4"
          }
        }
      },
      "three-stone": {
        "round": {
          "sku": "84708",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/84708/84708.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/84708/84708.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/84708/84708.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/84708/84708.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/84708/84708.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/84708/84708.video.rose.mp4"
          }
        },
        "oval": {
          "sku": "81795",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/81795/81795.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/81795/81795.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/81795/81795.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/81795/81795.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/81795/81795.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/81795/81795.video.rose.mp4"
          }
        },
        "emerald": {
          "sku": "81986",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/81986/81986.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/81986/81986.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/81986/81986.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/81986/81986.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/81986/81986.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/81986/81986.video.rose.mp4"
          }
        },
        "pear": {
          "sku": "85337",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/85337/85337.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/85337/85337.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/85337/85337.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/85337/85337.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/85337/85337.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/85337/85337.video.rose.mp4"
          }
        },
        "marquise": {
          "sku": "83266",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/83266/83266.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/83266/83266.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/83266/83266.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/83266/83266.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/83266/83266.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/83266/83266.video.rose.mp4"
          }
        }
      },
      "pave": {
        "round": {
          "sku": "50271-E",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50271-E/50271-E.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50271-E/50271-E.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50271-E/50271-E.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50271-E/50271-E.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50271-E/50271-E.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50271-E/50271-E.video.rose.mp4"
          }
        },
        "oval": {
          "sku": "51011-E",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51011-E/51011-E.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51011-E/51011-E.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51011-E/51011-E.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51011-E/51011-E.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51011-E/51011-E.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51011-E/51011-E.video.rose.mp4"
          }
        },
        "emerald": {
          "sku": "51012-E",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51012-E/51012-E.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51012-E/51012-E.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51012-E/51012-E.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51012-E/51012-E.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51012-E/51012-E.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51012-E/51012-E.video.rose.mp4"
          }
        },
        "marquise": {
          "sku": "51015-E",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51015-E/51015-E.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51015-E/51015-E.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51015-E/51015-E.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51015-E/51015-E.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51015-E/51015-E.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51015-E/51015-E.video.rose.mp4"
          }
        },
        "cushion": {
          "sku": "50358-E",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50358-E/50358-E.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50358-E/50358-E.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50358-E/50358-E.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50358-E/50358-E.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50358-E/50358-E.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/50358-E/50358-E.video.rose.mp4"
          }
        }
      },
      "vintage": {
        "round": {
          "sku": "51071-E",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51071-E/51071-E.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51071-E/51071-E.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51071-E/51071-E.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51071-E/51071-E.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51071-E/51071-E.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51071-E/51071-E.video.rose.mp4"
          }
        },
        "oval": {
          "sku": "82906",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/82906/82906.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/82906/82906.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/82906/82906.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/82906/82906.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/82906/82906.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/82906/82906.video.rose.mp4"
          }
        },
        "emerald": {
          "sku": "82904",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/82904/82904.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/82904/82904.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/82904/82904.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/82904/82904.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/82904/82904.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/82904/82904.video.rose.mp4"
          }
        },
        "marquise": {
          "sku": "84009",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/84009/84009.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/84009/84009.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/84009/84009.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/84009/84009.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/84009/84009.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/84009/84009.video.rose.mp4"
          }
        },
        "cushion": {
          "sku": "51024-E",
          "images": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51024-E/51024-E.set.jpg",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51024-E/51024-E.set.alt.jpg",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51024-E/51024-E.set.alt1.jpg"
          },
          "videos": {
            "white": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51024-E/51024-E.video.white.mp4",
            "yellow": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51024-E/51024-E.video.yellow.mp4",
            "rose": "https://connect.overnightmountings.com/gemfind/library/Images_And_Videos/51024-E/51024-E.video.rose.mp4"
          }
        }
      }
    };

    const STYLES = [
      { id: 'solitaire', name: 'Solitaire', detail: 'Timeless elegance' },
      { id: 'halo', name: 'Halo', detail: 'Brilliant surround' },
      { id: 'hidden-halo', name: 'Hidden Halo', detail: 'Secret sparkle' },
      { id: 'three-stone', name: 'Three Stone', detail: 'Past, present, future' },
      { id: 'pave', name: 'Pavé', detail: 'Diamond encrusted' },
      { id: 'vintage', name: 'Vintage', detail: 'Timeless romance' },
    ];

    const METALS = [
      { id: 'white', name: 'White Gold', swatch: 'white' },
      { id: 'yellow', name: 'Yellow Gold', swatch: 'yellow' },
      { id: 'rose', name: 'Rose Gold', swatch: 'rose' },
    ];

    const DIAMONDS = [
      { id: 'round', name: 'Round' },
      { id: 'oval', name: 'Oval' },
      { id: 'emerald', name: 'Emerald' },
      { id: 'pear', name: 'Pear' },
      { id: 'marquise', name: 'Marquise' },
      { id: 'princess', name: 'Princess' },
      { id: 'cushion', name: 'Cushion' },
      { id: 'radiant', name: 'Radiant' },
    ];

    const CARATS = ['0.5', '0.75', '1.0', '1.25', '1.5', '1.75', '2.0', '2.5', '3.0', '3.5', '4.0', '4.5', '5.0'];

    // Diamond SVG shapes
    const diamondSVGs = {
      round: `<svg viewBox="0 0 50 50"><circle cx="25" cy="25" r="20" fill="none" stroke="#888" stroke-width="1.5"/><circle cx="25" cy="25" r="12" fill="none" stroke="#aaa" stroke-width="1"/></svg>`,
      oval: `<svg viewBox="0 0 50 50"><ellipse cx="25" cy="25" rx="20" ry="14" fill="none" stroke="#888" stroke-width="1.5"/><ellipse cx="25" cy="25" rx="12" ry="8" fill="none" stroke="#aaa" stroke-width="1"/></svg>`,
      emerald: `<svg viewBox="0 0 50 50"><polygon points="10,12 40,12 45,20 45,30 40,38 10,38 5,30 5,20" fill="none" stroke="#888" stroke-width="1.5"/></svg>`,
      pear: `<svg viewBox="0 0 50 50"><path d="M25 5 Q45 25 35 38 Q28 48 25 48 Q22 48 15 38 Q5 25 25 5" fill="none" stroke="#888" stroke-width="1.5"/></svg>`,
      marquise: `<svg viewBox="0 0 50 50"><ellipse cx="25" cy="25" rx="10" ry="22" fill="none" stroke="#888" stroke-width="1.5"/></svg>`,
      princess: `<svg viewBox="0 0 50 50"><rect x="7" y="7" width="36" height="36" fill="none" stroke="#888" stroke-width="1.5"/><line x1="7" y1="7" x2="43" y2="43" stroke="#ccc" stroke-width="0.5"/><line x1="43" y1="7" x2="7" y2="43" stroke="#ccc" stroke-width="0.5"/></svg>`,
      cushion: `<svg viewBox="0 0 50 50"><rect x="7" y="7" width="36" height="36" rx="8" fill="none" stroke="#888" stroke-width="1.5"/></svg>`,
      radiant: `<svg viewBox="0 0 50 50"><polygon points="12,5 38,5 45,15 45,35 38,45 12,45 5,35 5,15" fill="none" stroke="#888" stroke-width="1.5"/></svg>`,
    };

    // ===================== APP STATE =====================
    let state = {
      step: 1,
      style: null,
      metal: 'white',
      diamond: null,
      carat: '1.0',
      formData: { name: '', email: '', phone: '', message: '' },
      formStatus: 'idle'
    };

    // ===================== DRAG TO SPIN =====================
    let videoEl = null;
    let isDragging = false;
    let startX = 0;
    let startTime = 0;

    function initDragToSpin(video) {
      videoEl = video;
      if (!videoEl) return;
      
      videoEl.pause();
      videoEl.currentTime = 0;
      
      const stage = document.querySelector('.ring-stage');
      if (!stage) return;
      
      stage.addEventListener('mousedown', onDragStart);
      stage.addEventListener('touchstart', onDragStart, { passive: true });
      document.addEventListener('mousemove', onDragMove);
      document.addEventListener('touchmove', onDragMove, { passive: true });
      document.addEventListener('mouseup', onDragEnd);
      document.addEventListener('touchend', onDragEnd);
    }

    function onDragStart(e) {
      if (!videoEl) return;
      isDragging = true;
      startX = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
      startTime = videoEl.currentTime;
    }

    function onDragMove(e) {
      if (!isDragging || !videoEl) return;
      
      const currentX = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
      const deltaX = currentX - startX;
      const sensitivity = 0.01; // Adjust for faster/slower spin
      
      let newTime = startTime + (deltaX * sensitivity);
      
      // Loop the video
      if (newTime < 0) newTime = videoEl.duration + newTime;
      if (newTime > videoEl.duration) newTime = newTime - videoEl.duration;
      
      videoEl.currentTime = Math.max(0, Math.min(videoEl.duration - 0.1, newTime));
    }

    function onDragEnd() {
      isDragging = false;
    }

    // ===================== HELPERS =====================
    function getAvailableShapes(styleId) {
      if (!styleId || !RING_DATA[styleId]) return [];
      return Object.keys(RING_DATA[styleId]);
    }

    function getRingData(styleId, diamondId) {
      if (!styleId || !diamondId) return null;
      return RING_DATA[styleId]?.[diamondId] || null;
    }

    function getVideoUrl() {
      const ring = getRingData(state.style, state.diamond);
      if (!ring) return null;
      return ring.videos[state.metal];
    }

    // ===================== RENDER =====================
    function render() {
      const app = document.getElementById('app');
      const stepNames = ['Style', 'Diamond', 'Submit'];
      
      // Get current ring data
      const ringData = getRingData(state.style, state.diamond);
      const videoUrl = ringData?.videos[state.metal];
      const availableShapes = getAvailableShapes(state.style);
      
      // Preview title
      let previewTitle = 'Your Ring';
      if (state.diamond && state.style) {
        const diamondName = DIAMONDS.find(d => d.id === state.diamond)?.name || '';
        const styleName = STYLES.find(s => s.id === state.style)?.name || '';
        previewTitle = `${diamondName} ${styleName}`;
      } else if (state.style) {
        previewTitle = STYLES.find(s => s.id === state.style)?.name || 'Your Ring';
      }
      
      const metalName = METALS.find(m => m.id === state.metal)?.name || 'White Gold';
      
      app.innerHTML = `
        <header class="header">
          <div class="logo">Gabriella <span>Amoura</span></div>
          <div class="progress">
            <div class="progress-track">
              ${[1, 2, 3].map(s => `
                <div class="progress-segment ${s === state.step ? 'active' : ''} ${s < state.step ? 'done' : ''}"></div>
              `).join('')}
            </div>
            <span class="progress-text">${stepNames[state.step - 1]}</span>
          </div>
        </header>
        
        <main class="main">
          <div class="preview-area">
            <div class="ring-stage" id="ringStage">
              ${videoUrl ? `
                <video id="ringVideo" muted playsinline preload="auto">
                  <source src="${videoUrl}" type="video/mp4">
                </video>
                <div class="drag-hint">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14 8l4 4-4 4M10 16l-4-4 4-4"/>
                  </svg>
                  Drag to spin
                </div>
              ` : `
                <div class="ring-placeholder">
                  Select a style${state.style ? ' and diamond shape' : ''} to preview
                </div>
              `}
            </div>
            <div class="preview-info">
              <h2 class="preview-title">${previewTitle}</h2>
              <div class="preview-tags">
                <span class="preview-tag">${metalName}</span>
                ${state.diamond ? `<span class="preview-tag">${state.carat} ct</span>` : ''}
                ${state.style ? `<span class="preview-tag">${STYLES.find(s => s.id === state.style)?.name}</span>` : ''}
              </div>
            </div>
          </div>
          
          <div class="config-panel">
            ${renderStep(availableShapes)}
            ${renderNavigation()}
          </div>
        </main>
      `;
      
      // Init video controls after render
      setTimeout(() => {
        const video = document.getElementById('ringVideo');
        if (video) {
          video.addEventListener('loadeddata', () => initDragToSpin(video));
          if (video.readyState >= 2) initDragToSpin(video);
        }
      }, 100);
      
      // Add event listeners
      addEventListeners(availableShapes);
    }

    function renderStep(availableShapes) {
      if (state.step === 1) {
        return `
          <div class="step-intro">
            <span class="step-badge">Step 1 of 3</span>
            <h2 class="step-title">Choose Your Style</h2>
            <p class="step-desc">Select a ring setting style and metal type to begin your design.</p>
          </div>
          
          <div class="section-label">Ring Style</div>
          <div class="style-grid">
            ${STYLES.map(style => `
              <div class="style-card ${state.style === style.id ? 'selected' : ''}" data-style="${style.id}">
                <div class="style-name">${style.name}</div>
                <div class="style-detail">${style.detail}</div>
              </div>
            `).join('')}
          </div>
          
          <div class="section-label">Metal Type</div>
          <div class="metal-row">
            ${METALS.map(metal => `
              <div class="metal-swatch ${state.metal === metal.id ? 'selected' : ''}" data-metal="${metal.id}">
                <div class="swatch-circle ${metal.swatch}"></div>
                <span class="swatch-label">${metal.name}</span>
              </div>
            `).join('')}
          </div>
        `;
      }
      
      if (state.step === 2) {
        const caratIndex = CARATS.indexOf(state.carat);
        const caratPercent = (caratIndex / (CARATS.length - 1)) * 100;
        
        return `
          <div class="step-intro">
            <span class="step-badge">Step 2 of 3</span>
            <h2 class="step-title">Choose Your Diamond</h2>
            <p class="step-desc">Select your preferred diamond shape and carat size.</p>
          </div>
          
          <div class="section-label">Diamond Shape</div>
          <div class="diamond-grid">
            ${DIAMONDS.map(diamond => {
              const isAvailable = availableShapes.includes(diamond.id);
              return `
                <div class="diamond-item ${state.diamond === diamond.id ? 'selected' : ''} ${!isAvailable ? 'disabled' : ''}" 
                     data-diamond="${diamond.id}" ${!isAvailable ? 'title="Not available for this style"' : ''}>
                  <div class="diamond-svg">${diamondSVGs[diamond.id] || diamondSVGs.round}</div>
                  <span class="diamond-label">${diamond.name}</span>
                </div>
              `;
            }).join('')}
          </div>
          
          <div class="section-label">Carat Size</div>
          <div class="carat-section">
            <div class="carat-header">
              <span></span>
              <span class="carat-value">${state.carat} ct</span>
            </div>
            <div class="slider-container">
              <div class="slider-fill" style="width: ${caratPercent}%"></div>
              <div class="slider-thumb" style="left: ${caratPercent}%"></div>
              <input type="range" id="caratSlider" min="0" max="${CARATS.length - 1}" value="${caratIndex}">
            </div>
            <div class="slider-labels">
              <span>0.5 ct</span>
              <span>2.5 ct</span>
              <span>5.0 ct</span>
            </div>
          </div>
        `;
      }
      
      if (state.step === 3) {
        if (state.formStatus === 'success') {
          return `
            <div class="success-box">
              <div class="success-icon">✓</div>
              <h3 class="success-title">Inquiry Sent!</h3>
              <p class="success-text">Thank you! We'll review your dream ring and reach out within 24 hours.</p>
              <button class="reset-btn" id="resetBtn">Design Another Ring</button>
            </div>
          `;
        }
        
        const styleName = STYLES.find(s => s.id === state.style)?.name || '';
        const diamondName = DIAMONDS.find(d => d.id === state.diamond)?.name || '';
        const metalName = METALS.find(m => m.id === state.metal)?.name || '';
        
        return `
          <div class="step-intro">
            <span class="step-badge">Final Step</span>
            <h2 class="step-title">Your Dream Ring</h2>
            <p class="step-desc">Review your configuration and submit your inquiry.</p>
          </div>
          
          <div class="summary-card">
            <div class="summary-row">
              <span class="summary-label">Style</span>
              <span class="summary-value">${styleName}</span>
            </div>
            <div class="summary-row">
              <span class="summary-label">Diamond</span>
              <span class="summary-value">${diamondName}</span>
            </div>
            <div class="summary-row">
              <span class="summary-label">Carat</span>
              <span class="summary-value">${state.carat} ct</span>
            </div>
            <div class="summary-row">
              <span class="summary-label">Metal</span>
              <span class="summary-value">${metalName}</span>
            </div>
          </div>
          
          <form class="lead-form" id="leadForm">
            <div class="form-field">
              <label class="form-label">Name *</label>
              <input class="form-input" name="name" required placeholder="Your name" value="${state.formData.name}">
            </div>
            <div class="form-field">
              <label class="form-label">Email *</label>
              <input class="form-input" name="email" type="email" required placeholder="you@email.com" value="${state.formData.email}">
            </div>
            <div class="form-field">
              <label class="form-label">Phone</label>
              <input class="form-input" name="phone" type="tel" placeholder="(555) 123-4567" value="${state.formData.phone}">
            </div>
            <div class="form-field">
              <label class="form-label">Additional Details</label>
              <textarea class="form-textarea" name="message" placeholder="Timeline, budget, special requests...">${state.formData.message}</textarea>
            </div>
            <button type="submit" class="submit-btn" ${state.formStatus === 'submitting' ? 'disabled' : ''}>
              ${state.formStatus === 'submitting' ? 'Sending...' : 'Submit Inquiry'}
            </button>
            <button type="button" class="reset-btn" id="startOverBtn">Start Over</button>
          </form>
        `;
      }
      
      return '';
    }

    function renderNavigation() {
      if (state.step === 3) return '';
      
      const canProceed = state.step === 1 ? state.style !== null : state.diamond !== null;
      
      return `
        <div class="nav-row">
          ${state.step > 1 ? '<button class="nav-btn back" id="backBtn">Back</button>' : ''}
          <button class="nav-btn next" id="nextBtn" ${!canProceed ? 'disabled' : ''}>
            ${state.step === 2 ? 'Review Ring' : 'Continue'}
          </button>
        </div>
      `;
    }

    function addEventListeners(availableShapes) {
      // Style cards
      document.querySelectorAll('.style-card').forEach(card => {
        card.addEventListener('click', () => {
          const newStyle = card.dataset.style;
          state.style = newStyle;
          // Reset diamond if not available for new style
          const newAvailable = getAvailableShapes(newStyle);
          if (state.diamond && !newAvailable.includes(state.diamond)) {
            state.diamond = newAvailable[0] || null;
          }
          render();
        });
      });
      
      // Metal swatches
      document.querySelectorAll('.metal-swatch').forEach(swatch => {
        swatch.addEventListener('click', () => {
          state.metal = swatch.dataset.metal;
          render();
        });
      });
      
      // Diamond shapes
      document.querySelectorAll('.diamond-item:not(.disabled)').forEach(item => {
        item.addEventListener('click', () => {
          state.diamond = item.dataset.diamond;
          render();
        });
      });
      
      // Carat slider
      const slider = document.getElementById('caratSlider');
      if (slider) {
        slider.addEventListener('input', (e) => {
          state.carat = CARATS[e.target.value];
          render();
        });
      }
      
      // Navigation
      const nextBtn = document.getElementById('nextBtn');
      if (nextBtn) {
        nextBtn.addEventListener('click', () => {
          if (state.step === 1 && state.style && !state.diamond) {
            // Auto-select first available diamond shape
            const available = getAvailableShapes(state.style);
            state.diamond = available[0] || 'round';
          }
          state.step++;
          render();
        });
      }
      
      const backBtn = document.getElementById('backBtn');
      if (backBtn) {
        backBtn.addEventListener('click', () => {
          state.step--;
          render();
        });
      }
      
      // Form
      const form = document.getElementById('leadForm');
      if (form) {
        form.addEventListener('submit', async (e) => {
          e.preventDefault();
          const formData = new FormData(form);
          state.formData = {
            name: formData.get('name'),
            email: formData.get('email'),
            phone: formData.get('phone'),
            message: formData.get('message')
          };
          state.formStatus = 'submitting';
          render();
          
          // Simulate submission
          setTimeout(() => {
            state.formStatus = 'success';
            render();
          }, 1500);
        });
      }
      
      // Reset buttons
      const resetBtn = document.getElementById('resetBtn');
      const startOverBtn = document.getElementById('startOverBtn');
      [resetBtn, startOverBtn].forEach(btn => {
        if (btn) {
          btn.addEventListener('click', () => {
            state = {
              step: 1,
              style: null,
              metal: 'white',
              diamond: null,
              carat: '1.0',
              formData: { name: '', email: '', phone: '', message: '' },
              formStatus: 'idle'
            };
            render();
          });
        }
      });
    }

    // Initial render
    render();
  </script>
</body>
</html>
